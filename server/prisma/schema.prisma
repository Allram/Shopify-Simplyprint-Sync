generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

model Mapping {
  id                   Int      @id @default(autoincrement())
  shopifyProductId     String
  shopifyVariantId     String?
  simplyprintFileName  String?
  simplyprintFileNames String?
  createdAt            DateTime @default(now())
  updatedAt            DateTime @updatedAt

  @@index([shopifyProductId])
  @@index([shopifyVariantId])
}

model Setting {
  key   String @id
  value String
}

model UnmatchedLineItem {
  id               Int      @id @default(autoincrement())
  orderId          String
  orderName        String?
  shopifyProductId String
  shopifyVariantId String?
  sku              String?
  quantity         Int      @default(1)
  reason           String?
  queuedAt         DateTime?
  createdAt        DateTime @default(now())

  @@index([orderId])
  @@index([shopifyProductId])
  @@index([shopifyVariantId])
}

model HiddenProduct {
  id               Int      @id @default(autoincrement())
  shopifyProductId String   @unique
  createdAt        DateTime @default(now())
}

model QueueExcludedProduct {
  id               Int      @id @default(autoincrement())
  shopifyProductId String   @unique
  createdAt        DateTime @default(now())
}
